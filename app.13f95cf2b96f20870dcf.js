!function(n){var t={};function i(e){if(t[e])return t[e].exports;var c=t[e]={i:e,l:!1,exports:{}};return n[e].call(c.exports,c,c.exports,i),c.l=!0,c.exports}i.m=n,i.c=t,i.d=function(n,t,e){i.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},i.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,t){if(1&t&&(n=i(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var c in n)i.d(e,c,function(t){return n[t]}.bind(null,c));return e},i.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(t,"a",t),t},i.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},i.p="",i(i.s="Ha7V")}({"13op":function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e={template:i("lwo9"),controller:["$log",function(n){var t=this;t.$onInit=function(){n.debug("AppController init"),t.pcs=[],t.initiativeCount=1},t.add=function(){var n={name:t.addName,hp:t.addHp,initiative:void 0,actions:[!1,!1,!1,!1]};t.pcs.push(n),t.addName=void 0,t.addHp=void 0},t.endRound=function(){t.pcs.forEach(function(n){n.actions=[!1,!1,!1,!1],n.initiative=void 0}),t.initiativeCount=1},t.nextCount=function(){t.initiativeCount++}}]};t.default=e},"6n4l":function(n,t,i){"use strict";var e=a(i("kniZ")),c=a(i("Qh26"));function a(n){return n&&n.__esModule?n:{default:n}}var s=angular.module("app.components",[]);s.component("pc",e.default),s.component("pageheader",c.default)},C96o:function(n,t){n.exports='<div class="row border mt-1 mb-1 p-1 rounded mr-2" ng-class="{\'border-primary\': $ctrl.initiativeCount == $ctrl.pc.initiative}">\n  <div class="col-2">\n    <div ng-if="!$ctrl.editNameMode">\n      <span>{{$ctrl.pc.name}}</span>\n      <a href="#" ng-click="$ctrl.editName()" class="ml-1" title="Edit"><span class="fas fa-pencil-alt ml-1 text-secondary"></span></a>\n    </div>\n    <form ng-submit="$ctrl.changeName()" ng-if="$ctrl.editNameMode">\n      <div class="input-group input-group-sm">\n        <input type="text" class="form-control" ng-model="$ctrl.name">\n        <div class="input-group-append">\n          <button type="submit" class="btn btn-outline-success btn-sm">\n            <span class="fas fa-check"></span>\n          </button>\n          <button type="button" ng-click="$ctrl.editName()" class="btn btn-outline-danger btn-sm">\n            <span class="fas fa-times"></span>\n          </button>\n        </div>\n      </div>\n    </form>\n  </div>\n  <div class="col-2">\n    <div class="row">\n      <div class="col-8">\n        <div ng-if="!$ctrl.editHpMode && !$ctrl.minusHpMode">\n          <span>{{$ctrl.pc.hp}}</span>\n          <a href="#" ng-click="$ctrl.editMinusHp()" class="ml-1" title="Decrease hit points"><span class="fas fa-minus ml-1 text-secondary"></span></a>\n          <a href="#" ng-click="$ctrl.editHp()" title="Edit"><span class="fas fa-pencil-alt ml-1 text-secondary"></span></a>\n        </div>\n        <form name="changeHp" ng-submit="$ctrl.changeHp()" ng-if="$ctrl.editHpMode">\n          <div class="input-group input-group-sm">\n            <input type="number" class="form-control" ng-model="$ctrl.hp">\n            <div class="input-group-append">\n              <button type="submit" class="btn btn-outline-success btn-sm">\n                <span class="fas fa-check"></span>\n              </button>\n              <button type="button" ng-click="$ctrl.editHp()" class="btn btn-outline-danger btn-sm">\n                <span class="fas fa-times"></span>\n              </button>\n            </div>\n          </div>\n        </form>\n        <form name="minusHp" ng-submit="$ctrl.minusHp()" ng-if="$ctrl.minusHpMode">\n          <div class="input-group input-group-sm">\n            <input type="number" class="form-control" ng-model="$ctrl.hp">\n            <div class="input-group-append">\n              <button type="submit" class="btn btn-outline-success btn-sm">\n                <span class="fas fa-check"></span>\n              </button>\n              <button type="button" ng-click="$ctrl.editMinusHp()" class="btn btn-outline-danger btn-sm">\n                <span class="fas fa-times"></span>\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n      <div class="col-4">\n        <input type="number" class="form-control" ng-class="{\'border-warning\': !$ctrl.pc.initiative}" ng-model="$ctrl.pc.initiative">\n      </div>\n    </div>\n  </div>\n  <div class="col">\n    <div class="btn-group" role="group">\n      <button type="button" class="btn btn-outline-success btn-sm" ng-class="{\'active\': $ctrl.pc.actions[0]}" ng-disabled="$ctrl.pc.actions[2]" ng-click="$ctrl.checkAction(0)" title="Standard Action">s.a.</button>\n      <button type="button" class="btn btn-outline-warning btn-sm" ng-class="{\'active\': $ctrl.pc.actions[1]}" ng-disabled="$ctrl.pc.actions[2]" ng-click="$ctrl.checkAction(1)" title="Move Action">m.a.</button>\n      <button type="button" class="btn btn-outline-dark btn-sm" ng-class="{\'active\': $ctrl.pc.actions[2]}" ng-disabled="$ctrl.pc.actions[0] || $ctrl.pc.actions[1]" ng-click="$ctrl.checkAction(2)" title="Full-round Action">f-r.a.</button>\n      <button type="button" class="btn btn-outline-info btn-sm" ng-class="{\'active\': $ctrl.pc.actions[3]}" ng-click="$ctrl.checkAction(3)" title="Swift Action">sw.a</button>\n    </div>\n  </div>\n  <div class="col">\n  </div>\n</div>\n'},Ha7V:function(n,t,i){"use strict";i("6n4l");var e,c=i("13op"),a=(e=c)&&e.__esModule?e:{default:e};angular.module("initiativeApp",["app.components"]).component("app",a.default)},Qh26:function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e={template:i("SEDi"),controller:["$log",function(n){n.debug("PageHeaderController create");var t=this;t.$onInit=function(){n.debug("PageHeaderController init ",t.title,t.breadcrumbItems),t.titleValues=t.titleValues||{},t.subtitleValues=t.subtitleValues||{}}}],bindings:{title:"@",subtitle:"@?"}};t.default=e},SEDi:function(n,t){n.exports='<div class="m-3">\n  <div class="dashhead">\n    <div class="dashhead-titles">\n      <h2 class="dashhead-title">\n        <span>{{$ctrl.title}}</span>\n      </h2>\n      <h3 class="dashhead-title" ng-if="$ctrl.subtitle">\n        <span>{{$ctrl.subtitle}}</span>\n      </h3>\n    </div>\n  </div>\n</div>\n'},kniZ:function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e={template:i("C96o"),controller:["$log",function(n){var t=this;t.$onInit=function(){n.debug("PCController init",t)},t.checkAction=function(n){t.pc.actions[n]=!t.pc.actions[n]},t.changeName=function(){t.pc.name=t.name,t.editName()},t.editName=function(){t.editNameMode||(t.name=t.pc.name),t.editNameMode=!t.editNameMode},t.changeHp=function(){t.pc.hp=t.hp,t.editHp()},t.editHp=function(){t.editHpMode||(t.hp=t.pc.hp),t.editHpMode=!t.editHpMode},t.minusHp=function(){t.pc.hp=t.pc.hp-t.hp,t.editMinusHp()},t.editMinusHp=function(){t.minusHpMode||(t.hp=0),t.minusHpMode=!t.minusHpMode}}],bindings:{pc:"<",initiativeCount:"<"}};t.default=e},lwo9:function(n,t){n.exports='<pageheader title="Greyhawk Initiative Tracker" subtitle="For Pathfinder RPG"></pageheader>\n\n<div class="container-fluid m-2">\n  <div class="alert alert-primary" role="alert">\n    Initiative count <strong>{{$ctrl.initiativeCount}}</strong>\n    <div class="btn-group ml-2" role="group">\n      <button type="button" class="btn btn-primary" ng-click="$ctrl.nextCount()">\n        Next\n      </button>\n      <button type="button" class="btn btn-danger" ng-click="$ctrl.endRound()">\n        End Round\n      </button>\n      \x3c!-- <button type="button" class="btn btn-outline-primary btn-sm" ng-class="{\'active\': $ctrl.pc.actions[1]}" ng-disabled="$ctrl.pc.actions[2]" ng-click="$ctrl.checkAction(1)">m.a.</button> --\x3e\n      \x3c!-- <button type="button" class="btn btn-outline-primary btn-sm" ng-class="{\'active\': $ctrl.pc.actions[2]}" ng-disabled="$ctrl.pc.actions[0] || $ctrl.pc.actions[1]" ng-click="$ctrl.checkAction(2)">f-r.a.</button> --\x3e\n      \x3c!-- <button type="button" class="btn btn-outline-success btn-sm" ng-class="{\'active\': $ctrl.pc.actions[3]}" ng-click="$ctrl.checkAction(3)">sw.a</button> --\x3e\n    </div>\n  </div>\n  \x3c!-- <div class="row">\n    Initiative count <strong>{{$ctrl.initiativeCount}}</strong>\n    <button type="button" class="btn btn-primary btn-sm ml-2" ng-click="$ctrl.nextCount()">\n      +\n    </button>\n    <button type="button" class="btn btn-danger ml-4" ng-click="$ctrl.endRound()">\n      End Round\n    </button>\n  </div> --\x3e\n\n  <div class="row mt-4 text-muted">\n    <div class="col-2">\n      Name\n    </div>\n    <div class="col-2">\n      <div class="row">\n        <div class="col-8">\n          HP\n        </div>\n        <div class="col-4">\n          Init\n        </div>\n      </div>\n    </div>\n    <div class="col-2">\n      Combat Actions\n    </div>\n    <div class="col">\n      Conditions and Effects\n    </div>\n  </div>\n\n  <table>\n    <tbody>\n      <tr>\n        <pc ng-repeat="pc in $ctrl.pcs" pc="pc" initiative-count="$ctrl.initiativeCount"></pc>\n      </tr>\n    </tbody>\n  </table>\n\n  <form name="addPcForm" ng-submit="$ctrl.add()">\n    <div class="row mt-4">\n      <div class="form-group col-2">\n        <label class="col-form-label" for="pcName">Name</label>\n        <input type="text" id="pcName" class="form-control" ng-model="$ctrl.addName"></input>\n      </div>\n      <div class="form-group col-1">\n        <label class="col-form-label" for="pcHp">HP</label>\n        <input type="number" id="pcHp" class="form-control" ng-model="$ctrl.addHp"></input>\n      </div>\n    </div>\n    <div class="form-group">\n      <button ng-click="$ctrl.transferTokens()" type="submit" class="btn btn-primary" ng-disabled="addPcForm.$invalid">Add</button>\n    </div>\n  </form>\n\n</div>\n'}});